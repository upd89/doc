\begin{comment}
(Implementierung) Architektur und Design beschrieben: Mit begründeten Architekturentscheidungen, mit Diskussion, wie Qualitätsattribute sichergestellt wurden (welche Qualität wurde erreicht?), mit Dokumentation, welche Experimente/Tests durchgeführt wurden und welche Lösungsoptionen aufgrund der Ergebnisse dieser Experimente/Tests
verworfen wurden (was ging schief?)
\end{comment}

\chapter{Umsetzung}
Dieses Kapitel beschreibt die Umsetzung anhand der Architektur und legt einen Schwerpunkt auf die Themen Sicherheit und Design.

\begin{decision}{Dokumentationssprache}
Es wurde entschieden, dass die Projektdokumentation - etwa dieses Dokument - auf Deutsch verfasst wird, die Software selbst sowie Anleitungen dazu auf Englisch veröffentlich werden. Dies aus dem Grund, da Englisch die meistbenutzte Sprache im Internet ist\footnote{Quelle: https://w3techs.com/technologies/overview/content\textunderscore language/all} und aus eigener Erfahrung die meisten Open-Source-Projekte mindestens auf Englisch dokumentiert sind.

\end{decision}

\xxx[Source richtig zitieren!]

\subimport{}{architecture.tex}

\clearpage
\subimport{}{security.tex}

\clearpage
\subimport{}{design.tex}

\clearpage
\section{Testing}

\xxx[Unit-, UI-, Akzeptanztests]

Für Unit-Tests wurde im Control Center RSpec\footnote{\purl{http://rspec.info/}} benutzt. Die Tests wurden lokal manuell sowie durch Travis-CI (siehe auch Kapitel \ref{sec:pm:infrastructure}) automatisch nach einem Commit ausgeführt.

Die Unit-Tests decken vor allem Modelle und Controllers ab. Dazu wurden folgende Hilfs-Bibliotheken verwendet:

\begin{itemize}
\item rspec-rails\footnote{\purl{https://github.com/rspec/rspec-rails}}: erweitert das bei Rails enthaltene Testing-Framework, so dass RSpec-Tests ausgeführt werden können
\item factory\textunderscore girl\textunderscore rails\footnote{\purl{https://github.com/thoughtbot/factory\textunderscore girl\textunderscore rails}}: FactoryGirl vereinfacht das Erstellen von Fixtures
\item faker\footnote{\purl{https://github.com/stympy/faker}}: Liefert bei Bedarf realistische Test-Daten wie z.B. Namen, Email-Adressen, IP-Adressen, etc.
\item guard-rspec\footnote{\purl{https://github.com/guard/guard-rspec}}: Führt Unit-Tests automatisch wieder aus, wenn eine Änderung daran festgestellt wurde
\end{itemize}

Gemäss Projektplan (siehe Anhang \ref{appendix:project_plan}) wurden verschiedene Meilensteine definiert. Die Meilensteine ab der Construction-Phase umfassten auch das Erfüllen von Use-Cases. Nach dem Erreichen dieser Meilensteine wurde jeweils ein manueller System-Test durchgeführt und die Use-Cases getestet (Resultate in Tabelle \ref{fig:testing:system_tests}).

\begin{table}[]
    \centering
    \caption{System-Tests}
    \label{fig:testing:system_tests}
    \begin{tabular}{cccccc|l}
        MS4 & MS5 & MS6 & MS7 & MS8 & MS9 & Use-Case                         \\ \hline
            &     &     &     &     & \checkmark   & \hyperref[sec:uc_01]{UC01: Agent Deployen}             \\
            &     &     & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_02]{UC02: Bei CC registrieren}        \\
        \checkmark   & \checkmark   & \checkmark   & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_03]{UC03: Ausstehende Updates melden} \\
            &     & \checkmark   & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_04]{UC04: Update durchführen}         \\
            &     & \checkmark   & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_05]{UC05: Updates auslösen}           \\
            &     &     &     & \checkmark   & \checkmark   & \hyperref[sec:uc_06]{UC06: Reports einsehen}           \\
            &     &     & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_07]{UC07: Berechtigungen verwalten}   \\
            &     &     &     & \checkmark   & \checkmark   & \hyperref[sec:uc_08]{UC08: System-Gruppen verwalten}   \\
            &     &     & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_09]{UC09: User verwalten}             \\
            &     &     &     & \checkmark   & \checkmark   & \hyperref[sec:uc_10]{UC10: Regeln verwalten}           \\
            &     & \checkmark   & \checkmark   & \checkmark   & \checkmark   & \hyperref[sec:uc_11]{UC11: Paket-Gruppen verwalten}   
    \end{tabular}
\end{table}

